package main;

public class Main {

	public static final float PI = (float) Math.PI;
	/**
	 * @param args
	 */
	public static void main(String[] args) {
		System.out.println("sin(pi) = "+sinus(2, 6)
				+ "\nJava-Lib result: "+Math.sin(2));
		
	}

	
	private static float sinus(float x, int steps) {
		x = x%(2*PI);
		if(x<-PI/2)
			x = -x;
		if (-PI/2 <= x && x <= PI/2)
			return sin0(x, steps);
		else if(x >= 1.5*PI)
			return sin0(x-2*PI, steps);
		else {
			// PI/2 < x < 1.5*PI, spiegeln!
			return sin0(PI - x, steps);
		}
	}
	
	private static float sin0(float x, int steps) {
		float sum = x;
		float pot = x; 
		float fact = 1;
		if(steps<2)
			return 0;
		for(int i=3; i<(steps-1)*2; i+=2) {
			pot = pot * x * x;
			fact = fact * (i-1) * i;
			if((i-1)%4==0)
				sum += pot/fact;
			else
				sum -= pot/fact;
		}
		return sum;	
	}
}
